<div class="login-screen">
  <div class="login-header">
    <div class="icon-circle">
      <!-- SVG de “check circle outline” -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10
                 10-4.48 10-10S17.52 2 12 2zm-1.2 15.6l-4.2-4.2
                 1.7-1.7 2.5 2.5 5.5-5.5 1.7 1.7-7.2 7.2z"/>
      </svg>
    </div>
    <h2>¡Regístrate!</h2>
  </div>

  <div class="login-card">
    <h3>REGISTRO</h3>
    <p>Nos honra que te unas.</p>

    <form [formGroup]="signupForm" (ngSubmit)="addUser()">
      <!-- Nombre -->
      <div class="form-group">
        <input
          id="name"
          type="text"
          placeholder="Nombre completo"
          formControlName="name"
          name="name">
        <small *ngIf="signupForm.controls['name'].errors?.['required'] && signupForm.controls['name'].touched">
          Ingresa tu nombre
        </small>
        <small *ngIf="signupForm.controls['name'].errors?.['nameAlphabetError'] && signupForm.controls['name'].dirty">
          Solo letras
        </small>
        <small *ngIf="signupForm.controls['name'].errors?.['pattern'] && signupForm.controls['name'].dirty">
          Nombre inválido
        </small>
        <small *ngIf="signupForm.controls['name'].errors?.['nameLengthError'] && signupForm.controls['name'].dirty">
          Mínimo 2 caracteres
        </small>
      </div>

      <!-- Correo electrónico -->
      <div class="form-group">
        <input
          id="email"
          type="email"
          placeholder="Correo electrónico"
          formControlName="email"
          name="email">
        <small *ngIf="signupForm.controls['email'].errors?.['required'] && signupForm.controls['email'].touched">
          Ingresa tu correo electrónico
        </small>
        <small *ngIf="(signupForm.controls['email'].errors?.['pattern'] || signupForm.controls['email'].errors?.['email']) && signupForm.controls['email'].dirty">
          Correo inválido
        </small>
      </div>

      <!-- Contraseña -->
      <div class="form-group">
        <input
          id="password"
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Contraseña"
          formControlName="password"
          name="password">
        <small *ngIf="signupForm.controls['password'].errors?.['required'] && signupForm.controls['password'].touched">
          Ingresa una contraseña
        </small>
        <small *ngIf="signupForm.controls['password'].errors?.['pattern'] && signupForm.controls['password'].dirty">
          Debe contener mayúsculas, minúsculas, número y caracter especial (mín. 8)
        </small>
      </div>

      <!-- Repetir contraseña -->
      <div class="form-group">
        <input
          id="repassword"
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Repetir contraseña"
          formControlName="repassword"
          name="repassword">
        <small *ngIf="signupForm.controls['repassword'].errors?.['required'] && signupForm.controls['repassword'].touched">
          Repite la contraseña
        </small>
        <small *ngIf="signupForm.controls['repassword'].dirty && signupForm.controls['repassword'].errors?.['passwordmatcher']">
          Las contraseñas no coinciden
        </small>
      </div>

      <!-- Mostrar contraseña -->
      <div class="form-footer">
        <label>
          <input type="checkbox" (click)="togglePassword()">
          Mostrar contraseña
        </label>
      </div>

      <!-- Botón Crear cuenta -->
      <button
        class="btn-login"
        [disabled]="signupForm.invalid || disableButton"
        type="submit">
        CREAR CUENTA
      </button>
    </form>

    <p class="signup-text">
      ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a>
    </p>
  </div>
</div>
