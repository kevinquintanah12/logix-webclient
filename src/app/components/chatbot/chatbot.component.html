<div class="chatbot-container">
  <div class="chat-window" *ngIf="isOpen">
    <div class="chat-header">
      <mat-icon class="chat-icon">chat</mat-icon>
      <span>Preguntar al Asistente Virtual</span>
      <button class="close-btn" (click)="toggleChat()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="chat-body">
      <div *ngFor="let msg of messages"
           [ngClass]="{
             'from-user': msg.from === 'user',
             'from-agent': msg.from === 'agent'
           }"
           class="message-bubble">
        {{ msg.text }}
      </div>
    </div>

    <form class="chat-input" (ngSubmit)="sendMessage()">
      <input
        type="text"
        placeholder="Escriba aquÃ­"
        [(ngModel)]="currentMessage"
        name="message"
        required
      />
      <button type="submit" [disabled]="!currentMessage.trim()">ENVIAR</button>
    </form>
  </div>

  <button class="chat-toggle" (click)="toggleChat()">
    <mat-icon>{{ isOpen ? 'close' : 'chat_bubble' }}</mat-icon>
  </button>
</div>
